{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Projects-VSC\\\\BudgetBuddy\\\\BudgetBuddy\\\\frontend\\\\src\\\\components\\\\Login.jsx\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { auth } from \"../config/firebaseConfig\";\nimport { GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useUserContext } from \"../context/UserContext\";\nconst Login = () => {\n  /************************Task 6: State variable and function***********************/\n  const navigate = useNavigate();\n  const {\n    setUser\n  } = useUserContext();\n\n  /************************Task 6: State variable and function***********************/\n\n  const [signInStatus, setSignInStatus] = useState(\"\");\n\n  /*********************************Task 6: Function*********************************/\n\n  const handleGoogleSignIn = async () => {\n    try {\n      const provider = new GoogleAuthProvider();\n      const result = await signInWithPopup(auth, provider);\n      const idToken = await result.user.getIdToken();\n\n      // Send the idToken to backend for verification\n      const response = await axios.post(\"/google-signin\", {\n        idToken: idToken\n      });\n      if (response.data.success) {\n        // Update the user context with the user’s information\n        setUser(result.user);\n\n        // Save the user to local storage\n        localStorage.setItem(\"user\", JSON.stringify(result.user));\n\n        // Redirect to homepage after successful sign-in\n        navigate(\"/\");\n      } else {\n        setSignInStatus(\"Google Sign-In failed.\");\n      }\n    } catch (error) {\n      setSignInStatus(\"Google Sign-In failed.\");\n    }\n  };\n\n  /*********************************Task 6: Function*********************************/\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row vh-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 bg-dark text-white d-flex align-items-center justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/logos/logo-login.png\",\n    className: \"img-fluid mx-auto d-block\",\n    style: {\n      width: \"500px\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    },\n    alt: \"BudgetBuddy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 bg-light d-flex align-items-center justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"card-title mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Sign in with your Google account!\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-dark mt-5\",\n    onClick: handleGoogleSignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Sign in with Google\"), signInStatus && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger mt-5 col-md-6 offset-md-3\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-exclamation-triangle-fill m-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }), signInStatus))))));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","axios","auth","GoogleAuthProvider","signInWithPopup","useNavigate","useUserContext","Login","navigate","setUser","signInStatus","setSignInStatus","handleGoogleSignIn","provider","result","idToken","user","getIdToken","response","post","data","success","localStorage","setItem","JSON","stringify","error","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","style","width","marginLeft","marginRight","alt","onClick","role"],"sources":["C:/Users/User/Projects-VSC/BudgetBuddy/BudgetBuddy/frontend/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { auth } from \"../config/firebaseConfig\";\r\nimport { GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\n\r\nconst Login = () => {\r\n  /************************Task 6: State variable and function***********************/\r\n  const navigate = useNavigate();\r\nconst { setUser } = useUserContext();\r\n\r\n  /************************Task 6: State variable and function***********************/\r\n\r\n  const [signInStatus, setSignInStatus] = useState(\"\");\r\n\r\n  /*********************************Task 6: Function*********************************/\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    try {\r\n      const provider = new GoogleAuthProvider();\r\n      const result = await signInWithPopup(auth, provider);\r\n      const idToken = await result.user.getIdToken();\r\n  \r\n      // Send the idToken to backend for verification\r\n      const response = await axios.post(\"/google-signin\", {\r\n        idToken: idToken,\r\n      });\r\n  \r\n      if (response.data.success) {\r\n        // Update the user context with the user’s information\r\n        setUser(result.user);\r\n  \r\n        // Save the user to local storage\r\n        localStorage.setItem(\"user\", JSON.stringify(result.user));\r\n  \r\n        // Redirect to homepage after successful sign-in\r\n        navigate(\"/\");\r\n      } else {\r\n        setSignInStatus(\"Google Sign-In failed.\");\r\n      }\r\n    } catch (error) {\r\n      setSignInStatus(\"Google Sign-In failed.\");\r\n    }\r\n  };\r\n\r\n  /*********************************Task 6: Function*********************************/\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row vh-100\">\r\n        <div className=\"col-md-6 bg-dark text-white d-flex align-items-center justify-content-center\">\r\n          <img\r\n            src=\"/logos/logo-login.png\"\r\n            className=\"img-fluid mx-auto d-block\"\r\n            style={{\r\n              width: \"500px\",\r\n              marginLeft: \"auto\",\r\n              marginRight: \"auto\",\r\n            }}\r\n            alt=\"BudgetBuddy\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-md-6 bg-light d-flex align-items-center justify-content-center\">\r\n          <div className=\"card-body text-center\">\r\n            <h3 className=\"card-title mb-5\">\r\n              Sign in with your Google account!\r\n            </h3>\r\n            <button className=\"btn btn-dark mt-5\" onClick={handleGoogleSignIn}>\r\n              Sign in with Google\r\n            </button>\r\n            {signInStatus && (\r\n              <div\r\n                className=\"alert alert-danger mt-5 col-md-6 offset-md-3\"\r\n                role=\"alert\"\r\n              >\r\n                <div>\r\n                  <i className=\"bi bi-exclamation-triangle-fill m-2\"></i>\r\n                  {signInStatus}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}